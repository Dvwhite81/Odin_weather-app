(()=>{"use strict";const t=async(t,e)=>{try{const n=await fetch(t);if(!n.ok){if(count++,count>2)throw Error;let t=e.split(",")[0];e=t.split("=")[1],parseInput(e)}return await n.json()}catch(t){console.error("ERROR",t),alert("Try a different city")}},e=document.querySelector(".main"),n=document.querySelector(".animation-div"),a=(t,e)=>{const n=document.createElement(t);for(const t in e)n[t]=e[t];return n};let o;const r=t=>{o=0,t.preventDefault(),e.style.display="none",n.style.display="flex";const a=document.getElementById("search-input"),r=a.value;a.value="",s(r)},s=async e=>{const n="90896309f65adc38c814061d0ba7a858",a=`https://api.openweathermap.org/data/2.5/weather?${e=/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(e)?`zip=${e},us`:`q=${e}`}&appid=${n}&units=imperial`,o=`https://api.openweathermap.org/data/2.5/forecast?${e}&appid=${n}&units=imperial`,r=await(async(e,n)=>await t(e,n))(a,e);i(r);const s=`lat=${r.coord.lat}&lon=${r.coord.lon}`,p=await(async(e,n)=>await t(e,n))(o,s);c(p)},i=t=>{((t,n,o,r)=>{e.innerHTML="";const s=a("h1",{textContent:"Current Conditions:"});e.append(s);const i=a("div",{className:"current-results"}),c=a("h2",{id:"city-name",textContent:t}),p=a("h3",{id:"current-temp",textContent:n}),m=a("p",{id:"current-description",textContent:o}),d=a("img",{id:"current-icon",src:r});i.append(c,p,m,d),e.append(i)})(t.name,Math.round(t.main.temp)+"°F",t.weather[0].description,`http://openweathermap.org/img/w/${t.weather[0].icon}.png`)},c=t=>{const[n,o,r]=[t.list[3],t.list[5],t.list[7]];n.timeName="6:00 am",o.timeName="12:00 pm",r.timeName="6:00 pm";const s=[n,o,r];(()=>{const t=a("div",{className:"tomorrow"}),n=a("h2",{id:"tomorrow-h2",textContent:"Tomorrow:"}),o=a("div",{className:"tomorrow-forecasts"});t.append(n,o),e.append(t)})(),s.forEach((t=>p(t)))},p=t=>{((t,o,r,s)=>{const i=document.querySelector(".tomorrow-forecasts"),c=a("div",{className:"forecast-results"}),p=a("h3",{className:"forecast-name",textContent:t}),m=a("h4",{className:"forecast-temp",textContent:o}),d=a("p",{className:"forecast-description",textContent:r}),l=a("img",{className:"current-icon",src:s});c.append(p,m,d,l),i.append(c),setTimeout((()=>{e.style.display="grid",n.innerHTML="",n.style.display="none"}),2e3)})(t.timeName,Math.round(t.main.temp)+"°F",t.weather[0].description,`http://openweathermap.org/img/w/${t.weather[0].icon}.png`)};(()=>{document.querySelector("svg");const t=document.getElementById("search-input");setTimeout((()=>{t.setAttribute("placeholder","Enter a city or zip")}),4e3),document.getElementById("form").addEventListener("submit",r)})()})();